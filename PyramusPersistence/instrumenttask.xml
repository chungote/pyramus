<?xml version="1.0" encoding="utf-8"?>
<project name="Pyramus Persistence" default="instrument">
  <description>Pyramus Persistence</description>

  <taskdef name="instrument" classname="org.hibernate.tool.instrument.javassist.InstrumentTask" />

  <property name="buildPath" value="build/classes" />

  <target name="instrument">
    <instrument verbose="false">
      <fileset dir="${buildPath}/fi/pyramus/domainmodel/base/">
        <include name="*.class" />
      </fileset>
      <fileset dir="${buildPath}/fi/pyramus/domainmodel/courses/">
        <include name="*.class" />
      </fileset>
      <fileset dir="${buildPath}/fi/pyramus/domainmodel/drafts/">
        <include name="*.class" />
      </fileset>
      <fileset dir="${buildPath}/fi/pyramus/domainmodel/grading/">
        <include name="*.class" />
      </fileset>
      <fileset dir="${buildPath}/fi/pyramus/domainmodel/modules/">
        <include name="*.class" />
      </fileset>
      <fileset dir="${buildPath}/fi/pyramus/domainmodel/projects/">
        <include name="*.class" />
      </fileset>
      <fileset dir="${buildPath}/fi/pyramus/domainmodel/reports/">
        <include name="*.class" />
      </fileset>
      <fileset dir="${buildPath}/fi/pyramus/domainmodel/resources/">
        <include name="*.class" />
      </fileset>
      <fileset dir="${buildPath}/fi/pyramus/domainmodel/students/">
        <include name="*.class" />
      </fileset>
      <fileset dir="${buildPath}/fi/pyramus/domainmodel/users/">
        <include name="*.class" />
      </fileset>
    </instrument>
    
    <eclipse.refreshLocal resource="PyramusPersistence" depth="infinite"/>
  </target>

</project>
