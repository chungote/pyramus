#summary Quick start guide for installing Pyramus into Ubuntu Server.

==Prerequisites==

This guide assumes that you have a fresh Ubuntu Server 12.04 LTS running in your computer.  


==JBossAS 7==

We are installing Pyramus on top of JBossAS 7.1.1-final so first we need to get it running.

Install OpenJDK and unzip packages
{{{
# sudo apt-get install openjdk-7-jre unzip
}}}

Fetch JBoss tar ball
{{{
# cd /tmp
# wget http://download.jboss.org/jbossas/7.1/jboss-as-7.1.1.Final/jboss-as-7.1.1.Final.tar.gz
}}}
Extract JBoss into /opt -folder
{{{
# sudo tar -xvf /tmp/jboss-as-7.1.1.Final.tar.gz -C /opt
}}}

Add user for jboss 
{{{
# sudo adduser jboss
}}}

Change jboss -folder to be owned by jboss -user
{{{
# sudo chown -R jboss:jboss /opt/jboss-as-7.1.1.Final/
}}}
Add new administrative user for JBoss
  * Type of user: Management user
  * Realm: ManagementRealm

{{{
# sudo -u jboss /opt/jboss-as-7.1.1.Final/bin/add-user.sh
}}}

Download MySQL driver
{{{
# cd /tmp
# wget http://pyramus.googlecode.com/files/jboss-as-mysql-module-7.1.1.zip
}}}
Extract driver into JBoss
{{{
# sudo -u jboss unzip jboss-as-mysql-module-7.1.1.zip -d /opt/jboss-as-7.1.1.Final/modules/
}}}




  * Locate urn:jboss:domain:datasources:1.0 subsystem from JBoss/standalone/configuration/standalone.xml. Add new datasource inside datasources tag. Use following example. Note that you need to change DATABASE from connection-url, VERSION (e.g. 5.1.22) from driver and USER and PASSWORD from security.
{{{
<datasource jta="true" jndi-name="java:/jdbc/pyramus" pool-name="jdbc/pyramus" enabled="true" use-ccm="false">
  <connection-url>jdbc:mysql://localhost:3306/DATABASE</connection-url>
  <driver-class>com.mysql.jdbc.Driver</driver-class>
  <driver>mysql-connector-java-VERSION-bin.jar</driver>
  <security>
    <user-name>USER</user-name>
    <password>PASSWORD</password>
  </security>
  <validation>
    <validate-on-match>false</validate-on-match>
    <background-validation>false</background-validation>
  </validation>
  <statement>
    <share-prepared-statements>false</share-prepared-statements>
  </statement>
</datasource>
}}}