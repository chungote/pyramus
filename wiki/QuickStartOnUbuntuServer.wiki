#summary Quick start guide for installing Pyramus into Ubuntu Server.

==Prerequisites==

This guide assumes that you have a fresh Ubuntu Server 12.04 LTS running in your computer.  

==JBossAS 7==

We are installing Pyramus on top of JBossAS 7.1.1-final so first we need to get it running.

Install OpenJDK and unzip packages
{{{
# sudo apt-get install openjdk-7-jre unzip
}}}

Fetch JBoss tar ball
{{{
# cd /tmp
# wget http://download.jboss.org/jbossas/7.1/jboss-as-7.1.1.Final/jboss-as-7.1.1.Final.tar.gz
}}}
Extract JBoss into /opt -folder
{{{
# sudo tar -xvf /tmp/jboss-as-7.1.1.Final.tar.gz -C /opt
}}}

Add user for jboss 
{{{
# sudo adduser jboss
}}}

Change jboss -folder to be owned by jboss -user
{{{
# sudo chown -R jboss:jboss /opt/jboss-as-7.1.1.Final/
}}}
Add new administrative user for JBoss
  * Type of user: Management user
  * Realm: ManagementRealm

{{{
# sudo -u jboss /opt/jboss-as-7.1.1.Final/bin/add-user.sh
}}}

Download MySQL driver
{{{
# cd /tmp
# wget http://pyramus.googlecode.com/files/jboss-as-mysql-module-7.1.1.zip
}}}
Extract driver into JBoss
{{{
# sudo -u jboss unzip jboss-as-mysql-module-7.1.1.zip -d /opt/jboss-as-7.1.1.Final/modules/
}}}


Edit /opt/jboss-as-7.1.1.Final/standalone/configuration/standalone.xml with your favourite text editor

{{{
# sudo -u jboss vi /opt/jboss-as-7.1.1.Final/standalone/configuration/standalone.xml 
}}}

Locate "urn:jboss:domain:datasources:1.0" -subsystem. Find drivers inside in and add mysql driver inside that. 

{{{
<driver name="mysql" module="com.mysql.jdbc">
  <driver-class>com.mysql.jdbc.Driver</driver-class>
</driver>
}}}

Add datasource for Pyramus before drivers -tag.
{{{
<datasource jta="true" jndi-name="java:/jdbc/pyramus" pool-name="jdbc/pyramus" enabled="true" use-ccm="false">
  <connection-url>jdbc:mysql://localhost:3306/pyramus</connection-url>
  <driver>mysql</driver>
  <security>
    <user-name>user</user-name>
    <password>password</password>
  </security>
  <validation>
    <validate-on-match>false</validate-on-match>
    <background-validation>false</background-validation>
  </validation>
  <statement>
    <share-prepared-statements>false</share-prepared-statements>
  </statement>
</datasource>
}}}